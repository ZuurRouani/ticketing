{% extends 'base.html.twig' %}

{% block title %}My Profile{% endblock %}

{% block body %}

<div class="row " style="margin-top: 20px;">
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel">
            <div class="x_title">
            <h2>My Profil</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
            </div>
            <div class="x_content d-flex align-items-center">
                    <div class="profile_img">
                        <div id="crop-avatar">
                            <!-- Current avatar -->
                            <img class="img-circle img-responsive avatar-view" src="images/user.png" alt="Avatar" title="Change the avatar">
                        </div>
                    </div>
                    <div class="profile_info ml-3">                    
                    <h3>Samuel Doe</h3>

                    <ul class="list-unstyled user_data">
                    <li><strong>Email:</strong> {{ app.user.email }} </li>

                    <button type="button" class="btn btn-primary mt-3" data-toggle="modal" data-target="#editProfileModal">
                            Edit Profile
                        </button>
                    </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit Profile Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                {{ form_start(form) }}
                    <div class="form-group">
                        {{ form_label(form.email) }}
                        {{ form_widget(form.email) }}
                        {{ form_errors(form.email) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.current_password) }}
                        {{ form_widget(form.current_password) }}
                        {{ form_errors(form.current_password) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.password.first) }}
                        {{ form_widget(form.password.first) }}
                        {{ form_errors(form.password.first) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.password.second) }}
                        {{ form_widget(form.password.second) }}
                        {{ form_errors(form.password.second) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.save, { 'attr': { 'class': 'btn btn-primary' } }) }}
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
